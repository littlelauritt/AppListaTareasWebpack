(()=>{"use strict";var t={d:(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{A:()=>g});class e{constructor(t){this.tarea=t,this.id=(new Date).getTime(),this.completado=!1,this.fecha=new Date}}const a=document.querySelector(".new-todo"),s=document.querySelector(".todo-list"),r=document.querySelector(".clear-completed"),l=document.querySelector(".filters"),o=document.querySelectorAll(".filtro"),i=document.querySelector(".footer");let c=document.querySelector("strong");const n=t=>{const e=`\n    <li class="${t.completado?"completed":""}" data-id="${t.id}">\n\t\t\t\t\t\t<div class="view">\n\t\t\t\t\t\t\t<input class="toggle" type="checkbox" "${t.completado?"checked":""}">\n\t\t\t\t\t\t\t<label>${t.tarea}</label>\n\t\t\t\t\t\t\t<button class="destroy"></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t    <input class="edit" value="Create a TodoMVC template">\n\t\t\t\t\t</li>\n                `;s.innerHTML+=e},d=()=>{0!==g.listaTareas.length?i.classList.remove("hidden"):i.classList.add("hidden")},m=()=>{const t=g.listaTareas.filter((t=>!1===t.completado));c.textContent=t.length},h=()=>{g.listaTareas.filter((t=>!0===t.completado)).length>0?r.classList.remove("hidden"):r.classList.add("hidden")};a.addEventListener("keyup",(t=>{if("Enter"===t.key&&a.value.trim().length>0){const t=new e(a.value);g.anadirTarea(t),n(t),a.value=""}d(),m(),h()})),s.addEventListener("click",(t=>{const e=t.target.localName,a=t.target.parentElement.parentElement,r=a.dataset.id;"input"===e&&(g.marcarCompletado(r),a.classList.toggle("completed")),"button"===e&&(g.eliminarTarea(r),s.removeChild(a)),d(),m(),h()})),r.addEventListener("click",(()=>{g.eliminarCompletados();for(let t=s.children.length-1;t>=0;t--){const e=s.children[t];e.classList.contains("completed")&&e.remove()}d(),m(),h()})),l.addEventListener("click",(t=>{o.forEach((t=>t.classList.remove("selected"))),t.target.classList.add("selected");const e=t.target.text;if(e)for(elemento of s.children)switch(elemento.classList.remove("hidden"),e){case"Pendientes":elemento.classList.contains("completed")&&elemento.classList.add("hidden");break;case"Completadas":elemento.classList.contains("completed")||elemento.classList.add("hidden")}})),s.addEventListener("dblclick",(t=>{const e=t.target.localName,a=t.target.parentElement.parentElement,s=a.dataset.id;if("label"===e){const t=a.children[0].children[1];t.setAttribute("contenteditable",!0),t.setAttribute("style","border: 1px solid #000"),t.addEventListener("keypress",(e=>{if("Enter"===e.key){const e=t.innerHTML;t.setAttribute("contenteditable",!1),t.removeAttribute("style"),g.listaTareas.forEach((t=>{t.id==s&&(t.tarea=e,g.guardarLocalStorage())}))}}))}}));const g=new class{constructor(){this.cargarLocalStorage()}anadirTarea(t){this.listaTareas.push(t),this.guardarLocalStorage()}eliminarTarea(t){this.listaTareas=this.listaTareas.filter((e=>e.id!=t)),this.guardarLocalStorage()}eliminarCompletados(){this.listaTareas=this.listaTareas.filter((t=>!1===t.completado)),this.guardarLocalStorage()}marcarCompletado(t){for(const e of this.listaTareas)if(e.id==t){e.completado=!e.completado,this.guardarLocalStorage();break}}guardarLocalStorage(){localStorage.setItem("tareas",JSON.stringify(this.listaTareas))}cargarLocalStorage(){this.listaTareas=localStorage.getItem("tareas")?JSON.parse(localStorage.getItem("tareas")):[]}};g.listaTareas.forEach((t=>n(t))),d(),m(),h()})();
//# sourceMappingURL=6bfd8e52d4c6f13d2ecd.bundle.js.map